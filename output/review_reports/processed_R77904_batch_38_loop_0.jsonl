{"question_id": "B5ex2", "pass": false, "root_causes": ["Selection logic is wrong: uses OR (~miss(v) or ~range(v,0,9999)) which selects all non-missing values including valid ones", "Does not invoke or perform the expected validation code validateB5d(...) specified in question attributes", "Does not enforce precision (Precision: 4) — no check that values have at most 4 decimal places", "Does not respect ColumnMask attribute (ColumnMask: MaskSec2Cols().isect(set(\"2\")).size() > 0)", "No handling of special codes (e.g. 97/98/99) which may need to be allowed or specially treated"], "instructions": ["Change the selection condition to flag only non-missing OUT-OF-RANGE values: replace sel if ~miss(v) or ~range(v,0,9999). with sel if ~miss(v) & ~range(v,0,9999). so only non-missing values outside 0–9999 are listed.", "Implement the question's validation routine by calling the provided validation code. For B5ex2 add a call to validateB5d(\"S7_2\",\"B5ex2_4\",\"hDUMB5eCol2_2\",\"B5eDKx2\") (or replicate its checks in SPSS) so multi-field consistency rules are enforced.", "Add a precision check to ensure values have at most 4 decimal places (e.g., flag where v <> RND(v,4) or where abs(v - rvd(v,4)) > 1E-9).", "Apply the ColumnMask logic so only the columns that should be active (MaskSec2Cols().isect(set(\"2\")).size()>0) are validated/listed. In practice restrict DO REPEAT or the sel-if to variables when the mask indicates the column is in-scope.", "If survey uses special codes (97/98/99) treat them as allowed values or explicitly handle them: e.g., consider values in {97,98,99} as valid in the sel-if condition or exclude them from out-of-range flags."]}
{"question_id": "B5ex3", "pass": false, "root_causes": ["Selection logic is wrong: uses OR (~miss(v) or ~range(v,0,9999)) which selects all non-missing values including valid ones", "Does not invoke or perform the expected validation code validateB5d(...) specified in question attributes", "Does not enforce precision (Precision: 4) — no check that values have at most 4 decimal places", "Does not respect ColumnMask attribute (ColumnMask: MaskSec2Cols().isect(set(\"3\")).size() > 0)", "No handling of special codes (e.g. 97/98/99) which may need to be allowed or specially treated"], "instructions": ["Change the selection condition to flag only non-missing OUT-OF-RANGE values: replace sel if ~miss(v) or ~range(v,0,9999). with sel if ~miss(v) & ~range(v,0,9999).", "Implement the question's validation routine by calling the provided validation code. For B5ex3 add a call to validateB5d(\"S7_3\",\"B5ex3_4\",\"hDUMB5eCol3_2\",\"B5eDKx3\") or replicate its checks.", "Add a precision check to ensure values have at most 4 decimal places (e.g., flag where v <> RND(v,4)).", "Respect the ColumnMask so only columns in scope (MaskSec2Cols().isect(set(\"3\")).size()>0) are validated/listed.", "Handle any survey special codes appropriately (allow 97/98/99 if intended) by excluding them from the out-of-range flag or explicitly checking for them."]}
{"question_id": "B5ex4", "pass": false, "root_causes": ["Selection logic is wrong: uses OR (~miss(v) or ~range(v,0,9999)) which selects all non-missing values including valid ones", "Does not invoke or perform the expected validation code validateB5d(...) specified in question attributes", "Does not enforce precision (Precision: 4) — no check that values have at most 4 decimal places", "Does not respect ColumnMask attribute (ColumnMask: MaskSec2Cols().isect(set(\"4\")).size() > 0)", "No handling of special codes (e.g. 97/98/99) which may need to be allowed or specially treated"], "instructions": ["Change the selection condition to flag only non-missing OUT-OF-RANGE values: replace sel if ~miss(v) or ~range(v,0,9999). with sel if ~miss(v) & ~range(v,0,9999).", "Implement the question's validation routine by calling the provided validation code. For B5ex4 add a call to validateB5d(\"S7_4\",\"B5ex4_4\",\"hDUMB5eCol4_2\",\"B5eDKx4\") or replicate its checks.", "Add a precision check to ensure values have at most 4 decimal places (e.g., flag where v <> RND(v,4)).", "Respect the ColumnMask so only columns in scope (MaskSec2Cols().isect(set(\"4\")).size()>0) are validated/listed.", "If special codes exist for this survey, ensure they are allowed or handled explicitly (e.g., treat 97/98/99 as valid codes if applicable)."]}
{"question_id": "B5ex5", "pass": false, "root_causes": ["Selection logic is wrong: uses OR (~miss(v) or ~range(v,0,9999)) which selects all non-missing values including valid ones", "Does not invoke or perform the expected validation code validateB5d(...) specified in question attributes", "Does not enforce precision (Precision: 4) — no check that values have at most 4 decimal places", "Does not respect ColumnMask attribute (ColumnMask: MaskSec2Cols().isect(set(\"5\")).size() > 0)", "No handling of special codes (e.g. 97/98/99) which may need to be allowed or specially treated"], "instructions": ["Change the selection condition to flag only non-missing OUT-OF-RANGE values: replace sel if ~miss(v) or ~range(v,0,9999). with sel if ~miss(v) & ~range(v,0,9999).", "Implement the question's validation routine by calling the provided validation code. For B5ex5 add a call to validateB5d(\"S7_5\",\"B5ex5_4\",\"hDUMB5eCol5_2\",\"B5eDKx5\") or replicate its checks.", "Add a precision check to ensure values have at most 4 decimal places (e.g., flag where v <> RND(v,4)).", "Respect the ColumnMask so only columns in scope (MaskSec2Cols().isect(set(\"5\")).size()>0) are validated/listed.", "If survey special codes are used, adjust the out-of-range logic to permit those codes (e.g., include 97/98/99 as allowed values or exclude them from the flagging logic)."]}
{"question_id": "B5ex2", "pass": false, "root_causes": ["Missing custom/cross-field validation: the expected ValidationCode validateB5d(\"S7_2\",\"B5ex2_4\",\"hDUMB5eCol2_2\",\"B5eDKx2\") is not invoked or implemented.", "Precision requirement not enforced: expected Precision = 4 (max 4 decimal places) is not checked.", "ColumnMask/conditional column validation not respected: expected ColumnMask logic (MaskSec2Cols().isect(set(\"2\")).size() > 0) is not implemented — script validates all four sub-variables unconditionally.", "No explicit handling/exclusion of potential special codes (e.g. 97/98/99) if those should be exempt from numeric range checks."], "instructions": ["Implement or call the expected custom validation: invoke validateB5d(\"S7_2\",\"B5ex2_4\",\"hDUMB5eCol2_2\",\"B5eDKx2\") (or replicate its logic) so cross-field and masked-column rules are enforced in addition to simple range checks.", "Add a precision check to ensure values have no more than 4 decimal places. For example, flag records where ~miss(v) and (v * 10000 <> int(v * 10000)) (use an appropriate tolerance for floating-point rounding).", "Respect the ColumnMask condition: only run the validation on columns included by the mask (e.g., check S7_2 or MaskSec2Cols result prior to validating B5ex2_1..B5ex2_4). If validateB5d handles the mask, call it; otherwise replicate the mask logic before range/precision checks.", "Confirm handling of survey special codes (97/98/99). If these codes represent non-numeric/missing reasons, exclude them from the numeric range and precision checks (e.g., add condition AND v NOT IN (97,98,99))."]}
{"question_id": "B5ex3", "pass": false, "root_causes": ["Missing custom/cross-field validation: the expected ValidationCode validateB5d(\"S7_3\",\"B5ex3_4\",\"hDUMB5eCol3_2\",\"B5eDKx3\") is not invoked or implemented.", "Precision requirement not enforced: expected Precision = 4 (max 4 decimal places) is not checked.", "ColumnMask/conditional column validation not respected: expected ColumnMask logic (MaskSec2Cols().isect(set(\"3\")).size() > 0) is not implemented — script validates all four sub-variables unconditionally.", "No explicit handling/exclusion of potential special codes (e.g. 97/98/99) if those should be exempt from numeric range checks."], "instructions": ["Implement or call the expected custom validation: invoke validateB5d(\"S7_3\",\"B5ex3_4\",\"hDUMB5eCol3_2\",\"B5eDKx3\") (or replicate its logic) so cross-field and masked-column rules are enforced in addition to simple range checks.", "Add a precision check to ensure values have no more than 4 decimal places. For example, flag records where ~miss(v) and (v * 10000 <> int(v * 10000)) (use an appropriate tolerance for floating-point rounding).", "Respect the ColumnMask condition: only run the validation on columns included by the mask (e.g., check S7_3 or MaskSec2Cols result prior to validating B5ex3_1..B5ex3_4). If validateB5d handles the mask, call it; otherwise replicate the mask logic before range/precision checks.", "Confirm handling of survey special codes (97/98/99). If these codes represent non-numeric/missing reasons, exclude them from the numeric range and precision checks (e.g., add condition AND v NOT IN (97,98,99))."]}
{"question_id": "B5ex4", "pass": false, "root_causes": ["Missing custom/cross-field validation: the expected ValidationCode validateB5d(\"S7_4\",\"B5ex4_4\",\"hDUMB5eCol4_2\",\"B5eDKx4\") is not invoked or implemented.", "Precision requirement not enforced: expected Precision = 4 (max 4 decimal places) is not checked.", "ColumnMask/conditional column validation not respected: expected ColumnMask logic (MaskSec2Cols().isect(set(\"4\")).size() > 0) is not implemented — script validates all four sub-variables unconditionally.", "No explicit handling/exclusion of potential special codes (e.g. 97/98/99) if those should be exempt from numeric range checks."], "instructions": ["Implement or call the expected custom validation: invoke validateB5d(\"S7_4\",\"B5ex4_4\",\"hDUMB5eCol4_2\",\"B5eDKx4\") (or replicate its logic) so cross-field and masked-column rules are enforced in addition to simple range checks.", "Add a precision check to ensure values have no more than 4 decimal places. For example, flag records where ~miss(v) and (v * 10000 <> int(v * 10000)) (use an appropriate tolerance for floating-point rounding).", "Respect the ColumnMask condition: only run the validation on columns included by the mask (e.g., check S7_4 or MaskSec2Cols result prior to validating B5ex4_1..B5ex4_4). If validateB5d handles the mask, call it; otherwise replicate the mask logic before range/precision checks.", "Confirm handling of survey special codes (97/98/99). If these codes represent non-numeric/missing reasons, exclude them from the numeric range and precision checks (e.g., add condition AND v NOT IN (97,98,99))."]}
{"question_id": "B5ex5", "pass": false, "root_causes": ["Missing custom/cross-field validation: the expected ValidationCode validateB5d(\"S7_5\",\"B5ex5_4\",\"hDUMB5eCol5_2\",\"B5eDKx5\") is not invoked or implemented.", "Precision requirement not enforced: expected Precision = 4 (max 4 decimal places) is not checked.", "ColumnMask/conditional column validation not respected: expected ColumnMask logic (MaskSec2Cols().isect(set(\"5\")).size() > 0) is not implemented — script validates all four sub-variables unconditionally.", "No explicit handling/exclusion of potential special codes (e.g. 97/98/99) if those should be exempt from numeric range checks."], "instructions": ["Implement or call the expected custom validation: invoke validateB5d(\"S7_5\",\"B5ex5_4\",\"hDUMB5eCol5_2\",\"B5eDKx5\") (or replicate its logic) so cross-field and masked-column rules are enforced in addition to simple range checks.", "Add a precision check to ensure values have no more than 4 decimal places. For example, flag records where ~miss(v) and (v * 10000 <> int(v * 10000)) (use an appropriate tolerance for floating-point rounding).", "Respect the ColumnMask condition: only run the validation on columns included by the mask (e.g., check S7_5 or MaskSec2Cols result prior to validating B5ex5_1..B5ex5_4). If validateB5d handles the mask, call it; otherwise replicate the mask logic before range/precision checks.", "Confirm handling of survey special codes (97/98/99). If these codes represent non-numeric/missing reasons, exclude them from the numeric range and precision checks (e.g., add condition AND v NOT IN (97,98,99))."]}
