{"question_id": "B1bb", "pass": false, "root_causes": ["Missing entry condition: the script does not restrict checks to respondents meeting the entry condition GreaterThan('B1ba',4).", "Because the entry condition is missing, the script will flag missing or invalid B1bb values for respondents for whom the question was not applicable."], "instructions": ["Apply the entry condition B1ba > 4 when selecting cases to check. Example: replace the current selection with something like: sel if (B1ba > 4) & ( miss(B1bb) or ~any(B1bb,1,2,3,4,5,6,97,98,99) ).", "If B1ba can contain special codes (97/98/99) that should exclude the question, ensure the entry condition excludes those (e.g., sel if (B1ba > 4 and not any(B1ba,97,98,99)) and ...)."]}
{"question_id": "B1cx1", "pass": false, "root_causes": ["Missing custom validation logic: the expected ValidationCode (CheckDK3D('B1cx1','B1cDKx1'); and conditional call to validateB1c(\"S7_1\",\"B1cx1\")) is not implemented — only per-subquestion numeric range checks are present.", "The script does not check the DK indicator variable B1cDKx1 (CheckDK3D) or conditionally skip/perform the cross-field sum validation (validateB1c), so it may miss sum-consistency or DK-based rules specified in the expected logic."], "instructions": ["Keep the existing per-subquestion numeric range checks (0..999 and allow 97/98/99) but add the CheckDK3D behavior: verify the DK indicator variable B1cDKx1. If the DK indicator shows a DK selection (non-empty / non-zero depending on how it's coded), skip the sum/consistency validation.", "If no DKs are selected (f('B1cDKx1').size() == 0), implement the validateB1c(\"S7_1\",\"B1cx1\") logic — i.e., compute the sum (or other rule used by validateB1c) across the B1cx1_* subvariables and compare it to variable S7_1 (or apply the exact consistency rule required). Flag respondents where the validation fails.", "Example approach to implement in SPSS: 1) create a flag for DK present (e.g., compute dk_present = any(B1cDKx1,97,98,99) or check if B1cDKx1<>0 depending on coding); 2) if dk_present = 0 then compute sum_B1cx1 = sum(B1cx1_51, B1cx1_1, ..., B1cx1_9) ignoring special codes; 3) compare sum_B1cx1 to S7_1 and sel if mismatch to list those cases. Ensure special codes are treated according to study rules (exclude from numeric sum or handle as specified).", "Ensure the DK check uses the actual encoding of B1cDKx1 in your dataset and that validation is only performed when appropriate (no DKs)."]}
